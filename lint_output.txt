
> hostel-management-system@2.2.0 lint
> eslint .


C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\components\payments\NextInstallmentForm.tsx
  27:7  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\components\payments\NextInstallmentForm.tsx:27:7
  25 |     if (open) {
  26 |       console.log('[NextInstallmentForm] Opening with data:', { studentId, academicYear, pendingAmount });
> 27 |       setDate(new Date().toISOString().substring(0,10));
     |       ^^^^^^^ Avoid calling setState() directly within an effect
  28 |       setAmount('');
  29 |       setMode('Cash');
  30 |       setNotes('');  react-hooks/set-state-in-effect

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\contexts\AuthContext.tsx
  16:14  error  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components  react-refresh/only-export-components

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\database\db.ts
  679:53  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  756:56  error  '_pk' is defined but never used           @typescript-eslint/no-unused-vars
  756:61  error  '_obj' is defined but never used          @typescript-eslint/no-unused-vars
  765:45  error  '_pk' is defined but never used           @typescript-eslint/no-unused-vars
  765:50  error  '_obj' is defined but never used          @typescript-eslint/no-unused-vars

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\hooks\useAppLogo.ts
  15:9  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\hooks\useAppLogo.ts:15:9
  13 |       const stored = localStorage.getItem('uploadedLogo');
  14 |       if (stored && stored.length > 0) {
> 15 |         setLogoUrl(stored);
     |         ^^^^^^^^^^ Avoid calling setState() directly within an effect
  16 |       } else {
  17 |         setLogoUrl(defaultLogo);
  18 |       }  react-hooks/set-state-in-effect

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\DataBackup.tsx
  28:17  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  43:19  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\Payments.tsx
   61:10  error  'feeAggregates' is assigned a value but never used                     @typescript-eslint/no-unused-vars
  397:11  error  'defaultRegistrationFee' is never reassigned. Use 'const' instead      prefer-const
  399:11  error  'defaultWaterAndElectricity' is never reassigned. Use 'const' instead  prefer-const

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\PettyCashRegister.old.tsx
   1:38  error  'useMemo' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      @typescript-eslint/no-unused-vars
  15:3   error  'Card' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         @typescript-eslint/no-unused-vars
  16:3   error  'CardContent' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @typescript-eslint/no-unused-vars
  17:3   error  'Dialog' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-unused-vars
  18:3   error  'DialogTitle' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @typescript-eslint/no-unused-vars
  19:3   error  'DialogContent' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @typescript-eslint/no-unused-vars
  20:3   error  'DialogActions' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @typescript-eslint/no-unused-vars
  21:3   error  'Grid' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         @typescript-eslint/no-unused-vars
  29:8   error  'SaveIcon' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     @typescript-eslint/no-unused-vars
  30:8   error  'CloseIcon' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @typescript-eslint/no-unused-vars
  31:8   error  'TrendingUpIcon' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               @typescript-eslint/no-unused-vars
  32:8   error  'AccountBalanceWalletIcon' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     @typescript-eslint/no-unused-vars
  33:8   error  'ReceiptIcon' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @typescript-eslint/no-unused-vars
  38:11  error  'PettyCashEntry' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               @typescript-eslint/no-unused-vars
  53:11  error  'HeaderInfo' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @typescript-eslint/no-unused-vars
  95:5   error  Error: Cannot access variable before it is declared

`loadTransactions` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\PettyCashRegister.old.tsx:95:5
  93 |
  94 |   useEffect(() => {
> 95 |     loadTransactions();
     |     ^^^^^^^^^^^^^^^^ `loadTransactions` accessed before it is declared
  96 |     loadSettings();
  97 |   }, []);
  98 |

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\PettyCashRegister.old.tsx:99:3
   97 |   }, []);
   98 |
>  99 |   const loadTransactions = async () => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 100 |     const data = await db.pettyCash.orderBy('date').reverse().toArray();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 101 |     setTransactions(data);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 102 |   };
      | ^^^^^ `loadTransactions` is declared here
  103 |
  104 |   const loadSettings = async () => {
  105 |     const uploadedLogo = localStorage.getItem('uploadedLogo');                                                                                                                                                                                                                                                                                                                                                               react-hooks/immutability
  96:5   error  Error: Cannot access variable before it is declared

`loadSettings` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\PettyCashRegister.old.tsx:96:5
  94 |   useEffect(() => {
  95 |     loadTransactions();
> 96 |     loadSettings();
     |     ^^^^^^^^^^^^ `loadSettings` accessed before it is declared
  97 |   }, []);
  98 |
  99 |   const loadTransactions = async () => {

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\PettyCashRegister.old.tsx:104:3
  102 |   };
  103 |
> 104 |   const loadSettings = async () => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 105 |     const uploadedLogo = localStorage.getItem('uploadedLogo');
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 106 |     if (uploadedLogo) setLogoBase64(uploadedLogo);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 107 |
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 108 |     const savedName = await db.settings.get('hostelName');
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 109 |     if (savedName?.value) setHostelName(savedName.value);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 110 |   };
      | ^^^^^ `loadSettings` is declared here
  111 |
  112 |   const generateReceiptNo = async () => {
  113 |     const count = await db.pettyCash.count();  react-hooks/immutability

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\PettyCashRegister.tsx
   35:8   error    'AttachMoneyIcon' is defined but never used                                                                       @typescript-eslint/no-unused-vars
   36:10  error    'db' is defined but never used                                                                                    @typescript-eslint/no-unused-vars
   39:13  error    'XLSX' is defined but never used                                                                                  @typescript-eslint/no-unused-vars
  133:6   warning  React Hook useEffect has a missing dependency: 'loadMonthData'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
  306:9   error    'safeBuildReportHtml' is assigned a value but never used                                                          @typescript-eslint/no-unused-vars
  404:9   error    'handleHeaderSave' is assigned a value but never used                                                             @typescript-eslint/no-unused-vars
  524:21  error    Unexpected any. Specify a different type                                                                          @typescript-eslint/no-explicit-any
  536:16  error    'err' is defined but never used                                                                                   @typescript-eslint/no-unused-vars
  564:49  error    Empty block statement                                                                                             no-empty

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\ReceiptRegister.old.tsx
   81:52  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   81:88  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   84:14  error  'e' is defined but never used             @typescript-eslint/no-unused-vars
   96:27  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  136:38  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  137:34  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  138:38  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\ReceiptRegister.tsx
  38:13  error  'XLSX' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @typescript-eslint/no-unused-vars
  64:5   error  Error: Cannot access variable before it is declared

`loadData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\ReceiptRegister.tsx:64:5
  62 |
  63 |   useEffect(() => {
> 64 |     loadData();
     |     ^^^^^^^^ `loadData` accessed before it is declared
  65 |     loadSettings();
  66 |   }, []);
  67 |

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\ReceiptRegister.tsx:68:3
  66 |   }, []);
  67 |
> 68 |   const loadData = async () => {
     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 69 |     try {
     | ^^^^^^^^^
> 70 |       const data = await db.receiptRegister.orderBy('date').reverse().toArray();
     | ^^^^^^^^^
> 71 |       setEntries(data);
     | ^^^^^^^^^
> 72 |     } catch (error) {
     | ^^^^^^^^^
> 73 |       console.error('Error loading receipt register:', error);
     | ^^^^^^^^^
> 74 |     }
     | ^^^^^^^^^
> 75 |   };
     | ^^^^^ `loadData` is declared here
  76 |
  77 |   const loadSettings = async () => {
  78 |     const savedHeader = localStorage.getItem('receiptRegisterHeader');                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     react-hooks/immutability
  65:5   error  Error: Cannot access variable before it is declared

`loadSettings` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\ReceiptRegister.tsx:65:5
  63 |   useEffect(() => {
  64 |     loadData();
> 65 |     loadSettings();
     |     ^^^^^^^^^^^^ `loadSettings` accessed before it is declared
  66 |   }, []);
  67 |
  68 |   const loadData = async () => {

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\ReceiptRegister.tsx:77:3
  75 |   };
  76 |
> 77 |   const loadSettings = async () => {
     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 78 |     const savedHeader = localStorage.getItem('receiptRegisterHeader');
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 79 |     if (savedHeader) {
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 80 |       setHeader(JSON.parse(savedHeader));
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 81 |     }
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 82 |     const uploadedLogo = localStorage.getItem('uploadedLogo');
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 83 |     if (uploadedLogo) setLogoBase64(uploadedLogo);
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 84 |   };
     | ^^^^^ `loadSettings` is declared here
  85 |
  86 |   const saveHeaderSettings = (newHeader: typeof header) => {
  87 |     localStorage.setItem('receiptRegisterHeader', JSON.stringify(newHeader));  react-hooks/immutability

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\Reports.tsx
  104:30  error  Unexpected any. Specify a different type              @typescript-eslint/no-explicit-any
  151:9   error  'monthlyPayments' is assigned a value but never used  @typescript-eslint/no-unused-vars

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\pages\Students.tsx
  112:20  error    Unexpected any. Specify a different type                                                                         @typescript-eslint/no-explicit-any
  208:6   warning  React Hook useEffect has a missing dependency: 'loadStudents'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\services\excelImport.ts
  102:7   error  'parseReceiptFromRow' is assigned a value but never used  @typescript-eslint/no-unused-vars
  256:11  error  'currentStudentId' is assigned a value but never used     @typescript-eslint/no-unused-vars

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\utils\backup.ts
  54:12  error  'err' is defined but never used           @typescript-eslint/no-unused-vars
  79:71  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

C:\Users\shoai\OneDrive\Desktop\hostel--feat-professional-enhancements-final\src\utils\pdfExport.ts
  27:9  error  'y' is never reassigned. Use 'const' instead  prefer-const

Γ£û 58 problems (56 errors, 2 warnings)
  3 errors and 0 warnings potentially fixable with the `--fix` option.

